{"version":3,"sources":["components/TransactionHistory/TransactionHistory.module.css","components/Controls/controls.module.css","components/Balance/Balance.module.css","components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","components/App.js","index.js"],"names":["module","exports","Controls","hendelChange","pushWithdraw","pushDeposit","value","errors","className","styles","controls","onChange","step","type","placeholder","numbers","onClick","controlBtn","Balance","depoSumm","withSumm","balance","icoUp","icoDown","TransactionHistory","history","map","ele","key","id","amount","date","rules","transSum","messages","integer","accepted","above","formatDate","Date","day","getDate","monthIndex","getMonth","year","getFullYear","hoasjd","getHours","minijs","getMinutes","Dashboard","TransType","DEPOSIT","WITHDRAWAL","transaction","shortId","generate","state","e","set","Number","target","setState","handelPushDeposit","validate","then","newTrans","summDepos","catch","error","message","hendelPushWithdraw","summWith","deposSumm","reduce","acum","ob","Summ","this","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.271962c5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__1wv0B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"controls_controls__29Gbo\",\"numbers\":\"controls_numbers__1qWdx\",\"controlBtn\":\"controls_controlBtn__2v_-q\",\"errors\":\"controls_errors__3B7KM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__2Xvi6\",\"icoUp\":\"Balance_icoUp__3luYb\",\"icoDown\":\"Balance_icoDown__3qpPP\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './controls.module.css';\n\nconst Controls = ({\n  hendelChange,\n  pushWithdraw,\n  pushDeposit,\n  value,\n  errors,\n}) => {\n  return (\n    <section className={styles.controls}>\n      <div className=\"container\">\n        {errors && <p className={styles.errors}>{errors}</p>}\n        <input\n          value={value === 0 ? '' : value}\n          onChange={hendelChange}\n          step=\"10\"\n          type=\"number\"\n          placeholder=\"Сумма транзакции...\"\n          className={styles.numbers}\n        />\n        <button\n          type=\"button\"\n          onClick={pushDeposit}\n          className={styles.controlBtn}\n        >\n          Deposit\n        </button>\n        <button\n          type=\"button\"\n          onClick={pushWithdraw}\n          className={styles.controlBtn}\n        >\n          Withdraw\n        </button>\n      </div>\n    </section>\n  );\n};\n\nControls.propTypes = {\n  hendelChange: PropTypes.func.isRequired,\n  pushWithdraw: PropTypes.func.isRequired,\n  pushDeposit: PropTypes.func.isRequired,\n  value: PropTypes.number.isRequired,\n  errors: PropTypes.string.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Balance.module.css';\n\nconst Balance = ({ depoSumm, withSumm }) => {\n  return (\n    <section className=\"bal\">\n      <div className=\"container\">\n        <p className={styles.balance}>\n          <span>\n            <span className={styles.icoUp}> ⬆ </span> {depoSumm}$\n          </span>\n          <span>\n            <span className={styles.icoDown}>⬇ </span> {withSumm}$\n          </span>\n          <span>\n            Balance: <strong>{depoSumm - withSumm}</strong>$\n          </span>\n        </p>\n      </div>\n    </section>\n  );\n};\n\nBalance.propTypes = {\n  depoSumm: PropTypes.number.isRequired,\n  withSumm: PropTypes.number.isRequired,\n};\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ history }) => {\n  return (\n    <section>\n      <div className=\"container\">\n        <table className={styles.history}>\n          <thead>\n            <tr>\n              <th>Transaction</th>\n              <th>Amount</th>\n              <th>Date</th>\n            </tr>\n          </thead>\n          <tbody>\n            {history.map(ele => (\n              <tr key={ele.id}>\n                <td>{ele.type}</td>\n                <td>{ele.amount}$</td>\n                <td>{ele.date}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n};\n\nTransactionHistory.propTypes = {\n  history: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      amount: PropTypes.number.isRequired,\n      date: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","import React, { Component } from 'react';\nimport shortId from 'short-id';\nimport { validate } from 'indicative/validator';\nimport Controls from '../Controls/Controls';\nimport Balance from '../Balance/Balance';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\n\nconst rules = {\n  transSum: 'integer|accepted|above:9',\n};\n\nconst messages = {\n  integer: 'Должно бытьцелым числом',\n  accepted: 'Не должно быть пустым',\n  above: 'Cумма должна быть положительной и не меннее 10',\n};\n\nfunction formatDate() {\n  const date = new Date();\n  const day = date.getDate();\n  const monthIndex = date.getMonth() + 1;\n  const year = date.getFullYear();\n  const hoasjd = date.getHours();\n  const minijs = date.getMinutes();\n\n  return `${day}/${monthIndex}/${year} ${hoasjd}:${minijs}`;\n}\n\nclass Dashboard extends Component {\n  TransType = {\n    DEPOSIT: 'deposit',\n    WITHDRAWAL: 'withdrawal',\n  };\n\n  transaction = [\n    {\n      id: shortId.generate(),\n      type: this.TransType.DEPOSIT,\n      amount: 5000,\n      date: '4/17/2019, 12:21',\n    },\n    {\n      id: shortId.generate(),\n      type: this.TransType.DEPOSIT,\n      amount: 1250,\n      date: '5/01/2019, 10:45',\n    },\n    {\n      id: shortId.generate(),\n      type: this.TransType.WITHDRAWAL,\n      amount: 3750,\n      date: '6/21/2019, 09:36',\n    },\n    {\n      id: shortId.generate(),\n      type: this.TransType.DEPOSIT,\n      amount: 7050,\n      date: '7/01/2019, 10:45',\n    },\n    {\n      id: shortId.generate(),\n      type: this.TransType.WITHDRAWAL,\n      amount: 250,\n      date: '7/21/2019, 09:36',\n    },\n  ];\n\n  state = {\n    transaction: this.transaction,\n    transSum: 0,\n    errors: '',\n    depoSumm: 0,\n    withSumm: 0,\n  };\n\n  componentDidMount() {\n    this.summDepos();\n    this.summWith();\n  }\n\n  hendelChange = e => {\n    const set = { transSum: Number(e.target.value) };\n    this.setState(set);\n  };\n\n  handelPushDeposit = () => {\n    const { transSum } = this.state;\n    validate({ transSum }, rules, messages)\n      .then(() => {\n        const newTrans = {\n          id: shortId.generate(),\n          type: this.TransType.DEPOSIT,\n          amount: transSum,\n          date: formatDate(),\n        };\n        this.setState(state => ({\n          transaction: [...state.transaction, newTrans],\n        }));\n        const set = { transSum: 0, errors: '' };\n        this.setState(set);\n        this.summDepos();\n      })\n      .catch(error => {\n        this.setState({ errors: error[0].message });\n      });\n  };\n\n  hendelPushWithdraw = () => {\n    const { transSum } = this.state;\n    validate({ transSum }, rules, messages)\n      .then(() => {\n        const newTrans = {\n          id: shortId.generate(),\n          type: this.TransType.WITHDRAWAL,\n          amount: transSum,\n          date: formatDate(),\n        };\n        this.setState(state => ({\n          transaction: [...state.transaction, newTrans],\n        }));\n        const set = { transSum: 0, errors: '' };\n        this.setState(set);\n        this.summWith();\n      })\n      .catch(error => {\n        this.setState({ errors: error[0].message });\n      });\n  };\n\n  summDepos = () => {\n    const { transaction } = this.state;\n\n    const deposSumm = transaction.reduce((acum, ob) => {\n      const summ = ob.type === this.TransType.DEPOSIT ? acum + ob.amount : acum;\n      return summ;\n    }, 0);\n\n    this.setState({ depoSumm: deposSumm });\n  };\n\n  summWith = () => {\n    const { transaction } = this.state;\n\n    const Summ = transaction.reduce((acum, ob) => {\n      const summ =\n        ob.type === this.TransType.WITHDRAWAL ? acum + ob.amount : acum;\n      return summ;\n    }, 0);\n\n    this.setState({ withSumm: Summ });\n  };\n\n  render() {\n    const { transaction, transSum, errors, depoSumm, withSumm } = this.state;\n    return (\n      <>\n        <Controls\n          hendelChange={this.hendelChange}\n          pushDeposit={this.handelPushDeposit}\n          pushWithdraw={this.hendelPushWithdraw}\n          value={transSum}\n          errors={errors}\n        />\n        <Balance depoSumm={depoSumm} withSumm={withSumm} />\n        <TransactionHistory history={transaction} />\n      </>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport Dashboard from './Dashboard/Dashboard';\n\nconst App = () => {\n  return (\n    <div className=\"dashboard\">\n      <Dashboard />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}